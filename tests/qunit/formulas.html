<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">

<html xmlns:v="urn:schemas-microsoft-com:vml">

<head>
	<title>Formulas test</title>
	<link rel="stylesheet" href="../../lib/unit.css" type="text/css" />
	<script type="text/javascript" src="../../lib/jquery.js"></script>
	<script type="text/javascript" src="../../lib/qunit.js"></script>
	<!--<link rel="stylesheet" href="../../themes/classic/toolbar.css" type="text/css" />
	<link rel="stylesheet" href="../../style/styles.css" type="text/css" />-->
	<script type="text/javascript" src="../../naturaleditor.js"></script>
	<!--<script type="text/javascript" src="../../release/naturaleditor.js"></script>-->
	<script type="text/javascript" src="tool.js"></script>
</head>

<body>
	<!--<h1 id="qunit-header">Formula test 1</h1>
	<h2 id="qunit-banner"></h2>
	<h2 id="qunit-userAgent"></h2>
	<ol id="qunit-tests"></ol>-->

	<span id = "frame"></span>
	
	<script type="text/javascript">
		var nte;
		
		$(document).ready(function()
			{
			  nte = new NaturalEditor(document.getElementById("frame"), "themes/classic/theme.js", 600, 200);
			  
				test("Formula 1", function()
					{
						//expect(1);

						nte.parse(
							"<p>" + 
								"Left" + 
								"<span class='formula'>" + 
									"<span class='formula_nthroot'>" + 
										"<span class='formula_text'>3</span>" + 
										"<span class='formula_text'>123</span>" + 
									"</span>" + 
								"</span>" + 
								"Right" + 
							"</p>" +
							"<p>" + 
								"Left" + 
								"<span class='formula'>" + 
									"<span class='formula_nthroot'>" + 
										"<span class='formula_group'>" + 
											"<span class='formula_text'>3</span>" + 
										"</span>" + 
										"<span class='formula_group'>" + 
											"<span class='formula_division'>" + 
												"<span class='formula_group'>" + 
													"<span class='formula_text'>333</span>" + 
												"</span>" + 
												"<span class='formula_group'>" + 
													"<span class='formula_division'>" + 
														"<span class='formula_group'>" + 
															"<span class='formula_text'>678888</span>" + 
														"</span>" + 
														"<span class='formula_group'>" + 
															"<span class='formula_text'>23456777</span>" + 
														"</span>" + 
													"</span>" + 
												"</span>" + 
											"</span>" + 
										"</span>" + 
									"</span>" + 
								"</span>" + 
								"Right" + 
							"</p>" +
							"<p>" + 
								"Left" + 
								"<span class='formula'>" + 
									"<span class='formula_nthroot'>" + 
										"<span class='formula_division'>" + 
											"<span class='formula_group'>" + 
												"<span class='formula_text'>678888</span>" + 
											"</span>" + 
											"<span class='formula_group'>" + 
												"<span class='formula_text'>23456777</span>" + 
											"</span>" + 
										"</span>" + 
										"<span class='formula_group'>" + 
											"<span class='formula_text'>567</span>" + 
											"<span class='formula_plus'></span>" + 
											"<span class='formula_division'>" + 
												"<span class='formula_group'>" + 
													"<span class='formula_exponentiation'>" + 
														"<span class='formula_text'>2</span>" + 
														"<span class='formula_group'>" + 
															"<span class='formula_text'>6.5</span>" + 
															"<span class='formula_plus'></span>" + 
															"<span class='formula_text'>87</span>" + 
														"</span>" + 
													"</span>" + 
												"</span>" + 
												"<span class='formula_group'>" + 
													"<span class='formula_text'>267</span>" + 
												"</span>" + 
											"</span>" + 
										"</span>" + 
									"</span>" + 
								"</span>" + 
								"Right" + 
							"</p>" +
							"<p>" + 
								"Left" + 
								"<span class='formula'>" + 
									"<span class='formula_squareroot'>" + 
										"<span class='formula_text'>123</span>" + 
									"</span>" + 
								"</span>" + 
								"Right" + 
							"</p>" +
							"<p>" + 
							"Left" + 
							"<span class='formula'>" + 
								"<span class='formula_squareroot'>" + 
									"<span class='formula_group'>" + 
										"<span class='formula_text'>55</span>" + 
										"<span class='formula_plus'></span>" + 
										"<span class='formula_exponentiation'>" + 
											"<span class='formula_text'>123</span>" + 
											"<span class='formula_group'>" + 
												"<span class='formula_text'>456</span>" + 
												"<span class='formula_plus'></span>" + 
												"<span class='formula_text'>sum</span>" + 
											"</span>" + 
										"</span>" + 
									"</span>" + 
								"</span>" + 
							"</span>" + 
							"Right" + 
							"</p>" + 
							"<p>" + 
							"Left" + 
							"<span class='formula'>" + 
								"<span class='formula_division'>" + 
									"<span class='formula_group'>" + 
										"<span class='formula_text'>88</span>" + 
									"</span>" + 
									"<span class='formula_group'>" + 
										"<span class='formula_squareroot'>" + 
											"<span class='formula_group'>" + 
												"<span class='formula_text'>55</span>" + 
												"<span class='formula_plus'></span>" + 
												"<span class='formula_text'>123</span>" + 
											"</span>" + 
										"</span>" + 
									"</span>" + 
								"</span>" + 
								"<span class='formula_plus'></span>" + 
								"<span class='formula_squareroot'>" + 
									"<span class='formula_group'>" + 
										"<span class='formula_squareroot'>" + 
											"<span class='formula_group'>" + 
												"<span class='formula_exponentiation'>" + 
													"<span class='formula_text'>123</span>" + 
													"<span class='formula_group'>" + 
														"<span class='formula_text'>456</span>" + 
														"<span class='formula_plus'></span>" + 
														"<span class='formula_text'>sum</span>" + 
													"</span>" + 
												"</span>" + 
											"</span>" + 
										"</span>" + 
										"<span class='formula_multiply'></span>" + 
										"<span class='formula_exponentiation'>" + 
											"<span class='formula_text'>1.23</span>" + 
											"<span class='formula_group'>" + 
												"<span class='formula_squareroot'>" + 
													"<span class='formula_group'>" + 
														"<span class='formula_text'>123</span>" + 
													"</span>" + 
												"</span>" + 
												"<span class='formula_plus'></span>" + 
												"<span class='formula_squareroot'>" + 
													"<span class='formula_group'>" + 
														"<span class='formula_division'>" + 
															"<span class='formula_group'>" + 
																"<span class='formula_text'>333</span>" + 
															"</span>" + 
															"<span class='formula_group'>" + 
																"<span class='formula_division'>" + 
																	"<span class='formula_group'>" + 
																		"<span class='formula_text'>678888</span>" + 
																	"</span>" + 
																	"<span class='formula_group'>" + 
																		"<span class='formula_text'>23456777</span>" + 
																	"</span>" + 
																"</span>" + 
															"</span>" + 
														"</span>" + 
													"</span>" + 
												"</span>" + 
											"</span>" + 
										"</span>" + 
									"</span>" + 
								"</span>" + 
							"</span>" + 
							"Right" + 
							"</p>" + 
							"<p>" + 
								"Left" + 
								"<span class='formula'>" + 
									"<span class='formula_division'>" + 
										"<span class='formula_group'>" + 
											"<span class='formula_text'>123</span>" + 
										"</span>" + 
										"<span class='formula_group'>" + 
											"<span class='formula_division'>" + 
												"<span class='formula_group'>" + 
													"<span class='formula_text'>555</span>" + 
												"</span>" + 
												"<span class='formula_group'>" + 
													"<span class='formula_text'>33</span>" + 
													"<span class='formula_multiply'></span>" + 
													"<span class='formula_text'>755</span>" + 
												"</span>" +
											"</span>" + 
										"</span>" + 
									"</span>" + 
									"<span class='formula_plus'></span>" + 
									"<span class='formula_division'>" + 
										"<span class='formula_group'>" + 
											"<span class='formula_division'>" + 
												"<span class='formula_group'>" + 
													"<span class='formula_text'>33</span>" + 
													"<span class='formula_multiply'></span>" + 
													"<span class='formula_text'>755</span>" + 
												"</span>" + 
												"<span class='formula_group'>" + 
													"<span class='formula_text'>555</span>" + 
												"</span>" +
											"</span>" + 
										"</span>" + 
										"<span class='formula_group'>" + 
											"<span class='formula_text'>123</span>" + 
										"</span>" + 
									"</span>" + 
								"</span>" + 
								"Right" + 
							"</p>" + 
							"<p>" + 
								"Left" + 
								"<span class='formula'>" + 
									"<span class='formula_text'>22</span>" + 
									"<span class='formula_plus'></span>" + 
									"<span class='formula_text'>55</span>" + 
									"<span class='formula_exponentiation'>" + 
										"<span class='formula_text'>123</span>" + 
										"<span class='formula_group'>" + 
											"<span class='formula_text'>456</span>" + 
											"<span class='formula_plus'></span>" + 
											"<span class='formula_text'>sum</span>" + 
										"</span>" + 
									"</span>" + 
								"</span>" + 
								"Right" + 
							"</p>" + 
							"<p>" + 
								"Left" + 
								"<span class='formula'>" + 
									"<span class='formula_exponentiation'>" + 
										"<span class='formula_text'>123</span>" + 
										"<span class='formula_group'>" + 
											"<span class='formula_text'>456</span>" + 
											"<span class='formula_plus'></span>" + 
											"<span class='formula_text'>sum</span>" + 
										"</span>" + 
									"</span>" + 
									"<span class='formula_plus'></span>" + 
									"<span class='formula_text'>55</span>" + 
								"</span>" + 
								"Right" + 
							"</p>" + 
							"<p>" + 
								"Left " + 
								"<span class='formula'>" + 
									"<span class='formula_text'>78</span>" + 
									"<span class='formula_plus'></span>" + 
									"<span class='formula_exponentiation'>" + 
										"<span class='formula_text'>123</span>" + 
										"<span class='formula_group'>" + 
											"<span class='formula_text'>456</span>" + 
											"<span class='formula_plus'></span>" + 
											"<span class='formula_text'>sum</span>" + 
										"</span>" + 
									"</span>" + 
									"<span class='formula_plus'></span>" + 
									"<span class='formula_text'>55</span>" + 
								"</span>" + 
								"Right" + 
							"</p>" + 
							"<p>" + 
								"Left" + 
								"<span class='formula'>" + 
									"<span class='formula_text'>555</span>" + 
									"<span class='formula_minus'></span>" + 
									"<span class='formula_division'>" + 
										"<span class='formula_group'>" + 
											"<span class='formula_text'>88</span>" + 
										"</span>" + 
										"<span class='formula_group'>" + 
											"<span class='formula_text'>567</span>" + 
											"<span class='formula_plus'></span>" + 
											"<span class='formula_division'>" + 
												"<span class='formula_group'>" + 
													"<span class='formula_exponentiation'>" + 
														"<span class='formula_text'>2</span>" + 
														"<span class='formula_group'>" + 
															"<span class='formula_text'>6.5</span>" + 
															"<span class='formula_plus'></span>" + 
															"<span class='formula_text'>87</span>" + 
														"</span>" + 
													"</span>" + 
												"</span>" + 
												"<span class='formula_group'>" + 
													"<span class='formula_text'>267</span>" + 
												"</span>" + 
											"</span>" + 
										"</span>" + 
									"</span>" +
								"</span>" + 
								"Right" + 
							"</p>" + 
							"<p>" + 
								"Left" + 
								"<span class='formula'>" + 
									"<span class='formula_division'>" + 
										"<span class='formula_group'>" + 
											"<span class='formula_division'>" +
												"<span class='formula_group'>" + 
													"<span class='formula_text'>88</span>" +
												"</span>" + 
												"<span class='formula_group'>" + 
													"<span class='formula_text'>567</span>" +
												"</span>" + 
											"</span>" + 
										"</span>" + 
										"<span class='formula_group'>" + 
											"<span class='formula_text'>567</span>" + 
											"<span class='formula_plus'></span>" + 
											"<span class='formula_division'>" + 
												"<span class='formula_group'>" + 
													"<span class='formula_exponentiation'>" + 
														"<span class='formula_text'>2</span>" + 
														"<span class='formula_group'>" + 
															"<span class='formula_text'>6.5</span>" + 
															"<span class='formula_plus'></span>" + 
															"<span class='formula_text'>87</span>" + 
														"</span>" + 
													"</span>" + 
												"</span>" + 
												"<span class='formula_group'>" + 
													"<span class='formula_text'>267</span>" + 
												"</span>" + 
											"</span>" + 
										"</span>" + 
									"</span>" +
								"</span>" + 
								"Right" + 
							"</p>"
							);
						
						//nte.moveCaretRight(8);
						//nte.moveCaretRight(9);
						//ok(testCaretPosition(2));
						
						//nte.moveCaretRight(10);
					}
					);
			}
			);
	</script>
</body>

</html>
